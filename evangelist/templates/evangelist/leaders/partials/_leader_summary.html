<!-- _leader_summary.html -->
<!-- Summary Section -->
<div class="summary-section"
     style="display: flex; justify-content: center; align-items: center; gap: 15px; width: 100%; max-width: 600px; margin: 10px auto 15px auto; font-size: 16px; font-weight: bold;">
    📊 Leaders: <strong id="totalLeaders">{{ total_leaders }}</strong> | 
    👨‍💼 Males: <strong id="totalMales">{{ total_male }}</strong> | 
    👩‍💼 Females: <strong id="totalFemales">{{ total_female }}</strong>
</div>

<!-- Sorting Buttons (iPhone-Like) -->
<div class="sorting-buttons"
     style="display: flex; justify-content: center; gap: 15px; margin-top: 10px; flex-wrap: nowrap;">
    
    <!-- Sort by Name (A-Z / Z-A) -->
    <button id="sortByName" onclick="toggleSortByName()" 
            style="width: 120px; height: 50px; font-size: 16px; font-weight: bold; 
                   background: linear-gradient(130deg, #007bff, #0056b3); color: white;
                   border: none; border-radius: 30px; cursor: pointer; 
                   display: flex; align-items: center; justify-content: center;
                   box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2); transition: all 0.2s;">
        🔤 Sort Name
    </button>

    <!-- Sort by Gender (Males First / Females First) -->
    <button id="sortByGender" onclick="toggleSortByGender()" 
            style="width: 140px; height: 50px; font-size: 16px; font-weight: bold;
                   background: linear-gradient(130deg, #28a745, #1e7e34); color: white;
                   border: none; border-radius: 30px; cursor: pointer;
                   display: flex; align-items: center; justify-content: center;
                   box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2); transition: all 0.2s;">
        ⚤ Sort Gender
    </button>
</div>

<!-- JavaScript for Sorting -->
<script>
    let nameSortAsc = true;  // Toggle for sorting names
    let genderSortAsc = true;  // Toggle for sorting gender

    function toggleSortByName() {
        let list = document.querySelector("tbody");
        let items = Array.from(list.getElementsByClassName("leader-row"));

        items.sort((a, b) => {
            let nameA = a.getAttribute("data-name").toLowerCase();
            let nameB = b.getAttribute("data-name").toLowerCase();
            return nameSortAsc ? nameA.localeCompare(nameB) : nameB.localeCompare(nameA);
        });

        nameSortAsc = !nameSortAsc;
        items.forEach(item => list.appendChild(item));
    }

    function toggleSortByGender() {
        let list = document.querySelector("tbody");
        let items = Array.from(list.getElementsByClassName("leader-row"));

        items.sort((a, b) => {
            let genderA = a.getAttribute("data-gender");
            let genderB = b.getAttribute("data-gender");
            return genderSortAsc ? genderA.localeCompare(genderB) : genderB.localeCompare(genderB);
        });

        genderSortAsc = !genderSortAsc;
        items.forEach(item => list.appendChild(item));
    }
</script>

<!-- ✅ Inline Styling for Buttons -->
<style>
    /* 📌 Button Hover Effect */
    .sorting-buttons button:hover {
        transform: scale(1.05);
    }

    /* 📱 Mobile Optimization */
    @media (max-width: 768px) {
        .sorting-buttons {
            flex-wrap: wrap; /* Ensures buttons remain side-by-side */
        }

        .sorting-buttons button {
            width: 130px;
            height: 45px;
            font-size: 14px;
        }
    }

    @media (max-width: 480px) {
        .sorting-buttons {
            gap: 10px; /* Less gap for small screens */
        }

        .sorting-buttons button {
            width: 120px;
            height: 40px;
            font-size: 14px;
        }
    }
</style>